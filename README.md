# QRScanner

Приложение для сканирования и управления QR-кодами. Работает по локальной сети, включает клиентскую часть на Vite + React и сервер с базой данных.

---

## Запуск проекта

### 1. Скачайте или склонируйте репозиторий

```bash
git clone https://github.com/Fodicat/QrScanner.git
```

или скачайте .zip с помощью кнопки **Code → Download ZIP**, затем распакуйте.

---

### 2. Установите Node.js

Загрузите Node.js с официального сайта:  
[https://nodejs.org/](https://nodejs.org/)
---

### 3. Исправление ошибки npm.ps1 (если возникла)

Если при запуске `npm` вы получаете ошибку:

```
npm : Невозможно загрузить файл C:\Program Files\nodejs\npm.ps1, так как выполнение сценариев отключено в этой системе.
```

Решение:

1. Откройте **PowerShell от имени администратора**.
2. Введите:

```powershell
Set-ExecutionPolicy Bypass
```

3. Подтвердите, нажав **Y**.

---

### 4. Откройте проект в редакторе кода

Например, в **Visual Studio Code**:

```bash
cd QrScanner/Scanner
```

Установите зависимости:

```bash
npm i
```

---

### 5. Создайте файл `.env`

В папке `Scanner` создайте файл `.env` со следующим содержимым:

```
VITE_API_URL=https://192.168.0.2:3000
VITE_ADMIN_PASS=admin
```

#### Что это значит:

- `VITE_API_URL` — IP-адрес сервера в локальной сети.
- `VITE_ADMIN_PASS` — пароль администратора (по умолчанию `admin`).

#### Как узнать локальный IP:

1. Откройте командную строку (`cmd`)
2. Введите:

```bash
ipconfig
```

3. Найдите строку вида:

```
IPv4-адрес: 192.168.X.X
```

4. Подставьте ваш IP вместо `192.168.0.2` во всех нужных местах.

---

### 6. Укажите IP в `Server.js`

Откройте файл `Server.js` и найдите блок:

```js
https.createServer(httpsOptions, app).listen(PORT, '192.168.0.2', () => {
  console.log(`HTTPS сервер запущен на https://192.168.0.2:${PORT}`);
});
```

Замените `192.168.0.2` на ваш локальный IP (см. шаг выше).

---

### 7. Запуск клиентской части

Находясь в папке `Scanner`, запустите:

```bash
npm run dev
```

Если всё настроено правильно — сайт будет доступен в браузере по адресу, указанному в терминале (например, `http://localhost:5173`).(Рекомендую заходить через именно ваш локальный ip в сиписке, типо такого: Network: https://192.168.0.2:8080/ , так же вы можете зайти на сайт с телефона если вы подключены к одонму Wi-Fi с ПК на котором запущен сайт)

---

### 8. Настройка базы данных

1. Скачайте и установите **MAMP**:  
[https://www.mamp.info/en/](https://www.mamp.info/en/)

2. Запустите **MySQL сервер** через интерфейс MAMP.

3. Откройте **phpMyAdmin**, создайте базу и импортируйте в неё SQL-файл (он находится в этом репозитории).

4. Перейдите в консоли к папке сервера cd Scanner\server

5. Запустите (БД должна быть запущена на фоне в MAMB)

```bash
npx nodemon Server.js
```

---

### Готово!

Теперь вы можете:

- Запустить клиент — `npm run dev`
- Запустить сервер — `npx nodemon Server.js`
- Перейти на сайт и использовать QR-систему


---
### Что-бы войти в админ панель в url на странице входа введите /admin, у вас должно получиться похожее на это https://192.168.0.2:8080/admin, и введит туда пароль который вы уазали в env файле
